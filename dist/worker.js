!function(e){var t={};function s(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=2)}([function(e,t){e.exports={Router:function({base:e="",routes:t=[]}={}){return{__proto__:new Proxy({},{get:(s,n,i)=>(s,...r)=>t.push([n.toUpperCase(),RegExp(`^${(e+s).replace(/(\/?)\*/g,"($1.*)?").replace(/\/$/,"").replace(/:(\w+)(\?)?(\.)?/g,"$2(?<$1>[^/]+)$2$3").replace(/\.(?=[\w(])/,"\\.").replace(/\)\.\?\(([^\[]+)\[\^/g,"?)\\.?($1(?<=\\.)[^\\.")}/*$`),r])&&i}),routes:t,async handle(e,...s){let n,i,r=new URL(e.url);for(var[c,a,o]of(e.query=Object.fromEntries(r.searchParams),t))if((c===e.method||"ALL"===c)&&(i=r.pathname.match(a)))for(var l of(e.params=i.groups,o))if(void 0!==(n=await l(e.proxy||e,...s)))return n}}}}},function(e,t){},function(e,t,s){"use strict";s.r(t);var n=s(0),i=Object.defineProperty,r=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(e,t,s)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,l=class extends Error{constructor(e){super(e),this.name="UpstashError"}};function h(e){try{return function e(t){const s=Array.isArray(t)?t.map(t=>{try{return e(t)}catch{return t}}):JSON.parse(t);return"number"==typeof s&&s.toString()!=t?t:s}(e)}catch{return e}}var u=class{constructor(e,t){var s;this.command=e.map(e=>"string"==typeof e?e:JSON.stringify(e)),this.deserialize=null!=(s=null==t?void 0:t.deserialize)?s:h}async exec(e){const{result:t,error:s}=await e.request({body:this.command});if(s)throw new l(s);if(void 0===t)throw new Error("Request did not return a result");return this.deserialize(t)}},p=class extends u{constructor(e,t){super(["append",e,t])}},d=class extends u{constructor(e,t,s){const n=["bitcount",e];"number"==typeof t&&n.push(t),"number"==typeof s&&n.push(s),super(n)}},x=class extends u{constructor(e,t,s,...n){super(["bitop",e,t,s,...n])}},w=class extends u{constructor(e,t,s){super(["bitpos",e,t,s])}},m=class extends u{constructor(){super(["dbsize"])}},f=class extends u{constructor(e){super(["decr",e])}},g=class extends u{constructor(e,t){super(["decrby",e,t])}},y=class extends u{constructor(...e){super(["del",...e])}},b=class extends u{constructor(e){super(["echo",e])}},v=class extends u{constructor(...e){super(["exists",...e])}},z=class extends u{constructor(e,t){super(["expire",e,t])}},S=class extends u{constructor(e,t){super(["expireat",e,t])}},j=class extends u{constructor(e){const t=["flushall"];(null==e?void 0:e.async)&&t.push("async"),super(t)}},k=class extends u{constructor(e){const t=["flushdb"];(null==e?void 0:e.async)&&t.push("async"),super(t)}},O=class extends u{constructor(e){super(["get",e])}},U=class extends u{constructor(e,t){super(["getbit",e,t])}},E=class extends u{constructor(e,t,s){super(["getrange",e,t,s])}},P=class extends u{constructor(e,t){super(["getset",e,t])}},R=class extends u{constructor(e,t){super(["hdel",e,t])}},T=class extends u{constructor(e,t){super(["hexists",e,t])}},_=class extends u{constructor(e,t){super(["hget",e,t])}};var C=class extends u{constructor(e){super(["hgetall",e],{deserialize:e=>function(e){if(0===e.length)return null;const t={};for(;e.length>=2;){const s=e.shift(),n=e.shift();try{t[s]=JSON.parse(n)}catch{t[s]=n}}return t}(e)})}},A=class extends u{constructor(e,t,s){super(["hincrby",e,t,s])}},I=class extends u{constructor(e,t,s){super(["hincrbyfloat",e,t,s])}},L=class extends u{constructor(e){super(["hkeys",e])}},M=class extends u{constructor(e){super(["hlen",e])}};var N=class extends u{constructor(e,...t){super(["hmget",e,...t],{deserialize:e=>function(e,t){if(0===t.length||t.every(e=>null===e))return null;const s={};for(let n=0;n<e.length;n++)try{s[e[n]]=JSON.parse(t[n])}catch{s[e[n]]=t[n]}return s}(t,e)})}},$=class extends u{constructor(e,t){super(["hmset",e,...Object.entries(t).flatMap(([e,t])=>[e,t])])}},q=class extends u{constructor(e,t,s){const n=["hscan",e,t];(null==s?void 0:s.match)&&n.push("match",s.match),"number"==typeof(null==s?void 0:s.count)&&n.push("count",s.count),super(n)}},H=class extends u{constructor(e,t){super(["hset",e,...Object.entries(t).flatMap(([e,t])=>[e,t])])}},K=class extends u{constructor(e,t,s){super(["hsetnx",e,t,s])}},D=class extends u{constructor(e,t){super(["hstrlen",e,t])}},J=class extends u{constructor(e){super(["hvals",e])}},B=class extends u{constructor(e){super(["incr",e])}},F=class extends u{constructor(e,t){super(["incrby",e,t])}},G=class extends u{constructor(e,t){super(["incrbyfloat",e,t])}},W=class extends u{constructor(e){super(["keys",e])}},X=class extends u{constructor(e,t){super(["lindex",e,t])}},Q=class extends u{constructor(e,t,s,n){super(["linsert",e,t,s,n])}},V=class extends u{constructor(e){super(["llen",e])}},Y=class extends u{constructor(e){super(["lpop",e])}},Z=class extends u{constructor(e,...t){super(["lpush",e,...t])}},ee=class extends u{constructor(e,...t){super(["lpushx",e,...t])}},te=class extends u{constructor(e,t,s){super(["lrange",e,t,s])}},se=class extends u{constructor(e,t,s){super(["lrem",e,t,s])}},ne=class extends u{constructor(e,t,s){super(["lset",e,s,t])}},ie=class extends u{constructor(e,t,s){super(["ltrim",e,t,s])}},re=class extends u{constructor(...e){super(["mget",...e])}},ce=class extends u{constructor(e){super(["mset",...Object.entries(e).flatMap(([e,t])=>[e,t])])}},ae=class extends u{constructor(e){super(["msetnx",...Object.entries(e).flatMap(e=>e)])}},oe=class extends u{constructor(e){super(["persist",e])}},le=class extends u{constructor(e,t){super(["pexpire",e,t])}},he=class extends u{constructor(e,t){super(["pexpireat",e,t])}},ue=class extends u{constructor(e){const t=["ping"];void 0!==e&&t.push(e),super(t)}},pe=class extends u{constructor(e,t,s){super(["psetex",e,t,s])}},de=class extends u{constructor(e){super(["pttl",e])}},xe=class extends u{constructor(){super(["randomkey"])}},we=class extends u{constructor(e,t){super(["rename",e,t])}},me=class extends u{constructor(e,t){super(["renamenx",e,t])}},fe=class extends u{constructor(e){super(["rpop",e])}},ge=class extends u{constructor(e,...t){super(["rpush",e,...t])}},ye=class extends u{constructor(e,...t){super(["rpushx",e,...t])}},be=class extends u{constructor(e,...t){super(["sadd",e,...t])}},ve=class extends u{constructor(e,t){const s=["scan",e];(null==t?void 0:t.match)&&s.push("match",t.match),"number"==typeof(null==t?void 0:t.count)&&s.push("count",t.count),super(s)}},ze=class extends u{constructor(e){super(["scard",e])}},Se=class extends u{constructor(e,...t){super(["sdiff",e,...t])}},je=class extends u{constructor(e,...t){super(["sdiffstore",e,...t])}},ke=class extends u{constructor(e,t,s){const n=["set",e,t];s&&("ex"in s&&"number"==typeof s.ex?n.push("ex",s.ex):"px"in s&&"number"==typeof s.px&&n.push("px",s.px),"nx"in s&&s.nx?n.push("nx"):"xx"in s&&s.xx&&n.push("xx")),super(n)}},Oe=class extends u{constructor(e,t,s){super(["setbit",e,t,s])}},Ue=class extends u{constructor(e,t,s){super(["setex",e,t,s])}},Ee=class extends u{constructor(e,t){super(["setnx",e,t])}},Pe=class extends u{constructor(e,t,s){super(["setrange",e,t,s])}},Re=class extends u{constructor(e,...t){super(["sinter",e,...t])}},Te=class extends u{constructor(e,t,...s){super(["sinterstore",e,t,...s])}},_e=class extends u{constructor(e,t){super(["sismember",e,t])}},Ce=class extends u{constructor(e){super(["smembers",e])}},Ae=class extends u{constructor(e,t,s){super(["smove",e,t,s])}},Ie=class extends u{constructor(e,t){const s=["spop",e];"number"==typeof t&&s.push(t),super(s)}},Le=class extends u{constructor(e,t){const s=["srandmember",e];"number"==typeof t&&s.push(t),super(s)}},Me=class extends u{constructor(e,...t){super(["srem",e,...t])}},Ne=class extends u{constructor(e,t,s){const n=["sscan",e,t];(null==s?void 0:s.match)&&n.push("match",s.match),"number"==typeof(null==s?void 0:s.count)&&n.push("count",s.count),super(n)}},$e=class extends u{constructor(e){super(["strlen",e])}},qe=class extends u{constructor(e,...t){super(["sunion",e,...t])}},He=class extends u{constructor(e,t,...s){super(["sunionstore",e,t,...s])}},Ke=class extends u{constructor(){super(["time"])}},De=class extends u{constructor(...e){super(["touch",...e])}},Je=class extends u{constructor(e){super(["ttl",e])}},Be=class extends u{constructor(e){super(["type",e])}},Fe=class extends u{constructor(...e){super(["unlink",...e])}},Ge=class extends u{constructor(e,t,...s){const n=["zadd",e];"nx"in t&&t.nx?n.push("nx"):"xx"in t&&t.xx&&n.push("xx"),"ch"in t&&t.ch&&n.push("ch"),"incr"in t&&t.incr&&n.push("incr"),"score"in t&&"member"in t&&n.push(t.score,t.member),n.push(...s.flatMap(({score:e,member:t})=>[e,t])),super(n)}},We=class extends u{constructor(e){super(["zcard",e])}},Xe=class extends u{constructor(e,t,s){super(["zcount",e,t,s])}},Qe=class extends u{constructor(e,t,s){super(["zincrby",e,t,s])}},Ve=class extends u{constructor(e,t,s,n){const i=["zinterstore",e,t];Array.isArray(s)?i.push(...s):i.push(s),n&&("weights"in n&&n.weights?i.push("weights",...n.weights):"weight"in n&&"number"==typeof n.weight&&i.push("weights",n.weight),"aggregate"in n&&i.push("aggregate",n.aggregate)),super(i)}},Ye=class extends u{constructor(e,t,s){super(["zlexcount",e,t,s])}},Ze=class extends u{constructor(e,t){const s=["zpopmax",e];"number"==typeof t&&s.push(t),super(s)}},et=class extends u{constructor(e,t){const s=["zpopmin",e];"number"==typeof t&&s.push(t),super(s)}},tt=class extends u{constructor(e,t,s,n){const i=["zrange",e,t,s];(null==n?void 0:n.withScores)&&i.push("withscores"),super(i)}},st=class extends u{constructor(e,t){super(["zrank",e,t])}},nt=class extends u{constructor(e,...t){super(["zrem",e,...t])}},it=class extends u{constructor(e,t,s){super(["zremrangebylex",e,t,s])}},rt=class extends u{constructor(e,t,s){super(["zremrangebyrank",e,t,s])}},ct=class extends u{constructor(e,t,s){super(["zremrangebyscore",e,t,s])}},at=class extends u{constructor(e,t){super(["zrevrank",e,t])}},ot=class extends u{constructor(e,t,s){const n=["zscan",e,t];(null==s?void 0:s.match)&&n.push("match",s.match),"number"==typeof(null==s?void 0:s.count)&&n.push("count",s.count),super(n)}},lt=class extends u{constructor(e,t){super(["zscore",e,t])}},ht=class extends u{constructor(e,t,s,n){const i=["zunionstore",e,t];Array.isArray(s)?i.push(...s):i.push(s),n&&("weights"in n&&n.weights?i.push("weights",...n.weights):"weight"in n&&"number"==typeof n.weight&&i.push("weights",n.weight),"aggregate"in n&&i.push("aggregate",n.aggregate)),super(i)}},ut=class extends class{constructor(e){this.pipeline=()=>new class{constructor(e){this.exec=async()=>{if(0===this.commands.length)throw new Error("Pipeline is empty");return(await this.client.request({path:["pipeline"],body:Object.values(this.commands).map(e=>e.command)})).map(({error:e,result:t},s)=>{if(e)throw new l(`Command ${s+1} [ ${this.commands[s].command[0]} ] failed: ${e}`);return this.commands[s].deserialize(t)})},this.append=(...e)=>this.chain(new p(...e)),this.bitcount=(...e)=>this.chain(new d(...e)),this.bitop=(e,t,s,...n)=>this.chain(new x(e,t,s,...n)),this.bitpos=(...e)=>this.chain(new w(...e)),this.dbsize=()=>this.chain(new m),this.decr=(...e)=>this.chain(new f(...e)),this.decrby=(...e)=>this.chain(new g(...e)),this.del=(...e)=>this.chain(new y(...e)),this.echo=(...e)=>this.chain(new b(...e)),this.exists=(...e)=>this.chain(new v(...e)),this.expire=(...e)=>this.chain(new z(...e)),this.expireat=(...e)=>this.chain(new S(...e)),this.flushall=(...e)=>this.chain(new j(...e)),this.flushdb=(...e)=>this.chain(new k(...e)),this.get=(...e)=>this.chain(new O(...e)),this.getbit=(...e)=>this.chain(new U(...e)),this.getrange=(...e)=>this.chain(new E(...e)),this.getset=(e,t)=>this.chain(new P(e,t)),this.hdel=(...e)=>this.chain(new R(...e)),this.hexists=(...e)=>this.chain(new T(...e)),this.hget=(...e)=>this.chain(new _(...e)),this.hgetall=(...e)=>this.chain(new C(...e)),this.hincrby=(...e)=>this.chain(new A(...e)),this.hincrbyfloat=(...e)=>this.chain(new I(...e)),this.hkeys=(...e)=>this.chain(new L(...e)),this.hlen=(...e)=>this.chain(new M(...e)),this.hmget=(...e)=>this.chain(new N(...e)),this.hmset=(e,t)=>this.chain(new $(e,t)),this.hscan=(...e)=>this.chain(new q(...e)),this.hset=(e,t)=>this.chain(new H(e,t)),this.hsetnx=(e,t,s)=>this.chain(new K(e,t,s)),this.hstrlen=(...e)=>this.chain(new D(...e)),this.hvals=(...e)=>this.chain(new J(...e)),this.incr=(...e)=>this.chain(new B(...e)),this.incrby=(...e)=>this.chain(new F(...e)),this.incrbyfloat=(...e)=>this.chain(new G(...e)),this.keys=(...e)=>this.chain(new W(...e)),this.lindex=(...e)=>this.chain(new X(...e)),this.linsert=(e,t,s,n)=>this.chain(new Q(e,t,s,n)),this.llen=(...e)=>this.chain(new V(...e)),this.lpop=(...e)=>this.chain(new Y(...e)),this.lpush=(e,...t)=>this.chain(new Z(e,...t)),this.lpushx=(e,...t)=>this.chain(new ee(e,...t)),this.lrange=(...e)=>this.chain(new te(...e)),this.lrem=(e,t,s)=>this.chain(new se(e,t,s)),this.lset=(e,t,s)=>this.chain(new ne(e,t,s)),this.ltrim=(...e)=>this.chain(new ie(...e)),this.mget=(...e)=>this.chain(new re(...e)),this.mset=e=>this.chain(new ce(e)),this.msetnx=e=>this.chain(new ae(e)),this.persist=(...e)=>this.chain(new oe(...e)),this.pexpire=(...e)=>this.chain(new le(...e)),this.pexpireat=(...e)=>this.chain(new he(...e)),this.ping=(...e)=>this.chain(new ue(...e)),this.psetex=(e,t,s)=>this.chain(new pe(e,t,s)),this.pttl=(...e)=>this.chain(new de(...e)),this.randomkey=()=>this.chain(new xe),this.rename=(...e)=>this.chain(new we(...e)),this.renamenx=(...e)=>this.chain(new me(...e)),this.rpop=(...e)=>this.chain(new fe(...e)),this.rpush=(e,...t)=>this.chain(new ge(e,...t)),this.rpushx=(e,...t)=>this.chain(new ye(e,...t)),this.sadd=(e,...t)=>this.chain(new be(e,...t)),this.scan=(...e)=>this.chain(new ve(...e)),this.scard=(...e)=>this.chain(new ze(...e)),this.sdiff=(...e)=>this.chain(new Se(...e)),this.sdiffstore=(...e)=>this.chain(new je(...e)),this.set=(e,t,s)=>this.chain(new ke(e,t,s)),this.setbit=(...e)=>this.chain(new Oe(...e)),this.setex=(e,t,s)=>this.chain(new Ue(e,t,s)),this.setnx=(e,t)=>this.chain(new Ee(e,t)),this.setrange=(...e)=>this.chain(new Pe(...e)),this.sinter=(...e)=>this.chain(new Re(...e)),this.sinterstore=(...e)=>this.chain(new Te(...e)),this.sismember=(e,t)=>this.chain(new _e(e,t)),this.smembers=(...e)=>this.chain(new Ce(...e)),this.smove=(e,t,s)=>this.chain(new Ae(e,t,s)),this.spop=(...e)=>this.chain(new Ie(...e)),this.srandmember=(...e)=>this.chain(new Le(...e)),this.srem=(e,...t)=>this.chain(new Me(e,...t)),this.sscan=(...e)=>this.chain(new Ne(...e)),this.strlen=(...e)=>this.chain(new $e(...e)),this.sunion=(...e)=>this.chain(new qe(...e)),this.sunionstore=(...e)=>this.chain(new He(...e)),this.time=()=>this.chain(new Ke),this.touch=(...e)=>this.chain(new De(...e)),this.ttl=(...e)=>this.chain(new Je(...e)),this.type=(...e)=>this.chain(new Be(...e)),this.unlink=(...e)=>this.chain(new Fe(...e)),this.zadd=(...e)=>(e[1],this.chain(new Ge(e[0],e[1],...e.slice(2)))),this.zcard=(...e)=>this.chain(new We(...e)),this.zcount=(...e)=>this.chain(new Xe(...e)),this.zincrby=(e,t,s)=>this.chain(new Qe(e,t,s)),this.zinterstore=(...e)=>this.chain(new Ve(...e)),this.zlexcount=(...e)=>this.chain(new Ye(...e)),this.zpopmax=(...e)=>this.chain(new Ze(...e)),this.zpopmin=(...e)=>this.chain(new et(...e)),this.zrange=(...e)=>this.chain(new tt(...e)),this.zrank=(e,t)=>this.chain(new st(e,t)),this.zrem=(e,...t)=>this.chain(new nt(e,...t)),this.zremrangebylex=(...e)=>this.chain(new it(...e)),this.zremrangebyrank=(...e)=>this.chain(new rt(...e)),this.zremrangebyscore=(...e)=>this.chain(new ct(...e)),this.zrevrank=(e,t)=>this.chain(new at(e,t)),this.zscan=(...e)=>this.chain(new ot(...e)),this.zscore=(e,t)=>this.chain(new lt(e,t)),this.zunionstore=(...e)=>this.chain(new ht(...e)),this.client=e,this.commands=[]}chain(e){return this.commands.push(e),this}}(this.client),this.append=(...e)=>new p(...e).exec(this.client),this.bitcount=(...e)=>new d(...e).exec(this.client),this.bitop=(e,t,s,...n)=>new x(e,t,s,...n).exec(this.client),this.bitpos=(...e)=>new w(...e).exec(this.client),this.dbsize=()=>(new m).exec(this.client),this.decr=(...e)=>new f(...e).exec(this.client),this.decrby=(...e)=>new g(...e).exec(this.client),this.del=(...e)=>new y(...e).exec(this.client),this.echo=(...e)=>new b(...e).exec(this.client),this.exists=(...e)=>new v(...e).exec(this.client),this.expire=(...e)=>new z(...e).exec(this.client),this.expireat=(...e)=>new S(...e).exec(this.client),this.flushall=(...e)=>new j(...e).exec(this.client),this.flushdb=(...e)=>new k(...e).exec(this.client),this.get=(...e)=>new O(...e).exec(this.client),this.getbit=(...e)=>new U(...e).exec(this.client),this.getrange=(...e)=>new E(...e).exec(this.client),this.getset=(e,t)=>new P(e,t).exec(this.client),this.hdel=(...e)=>new R(...e).exec(this.client),this.hexists=(...e)=>new T(...e).exec(this.client),this.hget=(...e)=>new _(...e).exec(this.client),this.hgetall=(...e)=>new C(...e).exec(this.client),this.hincrby=(...e)=>new A(...e).exec(this.client),this.hincrbyfloat=(...e)=>new I(...e).exec(this.client),this.hkeys=(...e)=>new L(...e).exec(this.client),this.hlen=(...e)=>new M(...e).exec(this.client),this.hmget=(...e)=>new N(...e).exec(this.client),this.hmset=(e,t)=>new $(e,t).exec(this.client),this.hscan=(...e)=>new q(...e).exec(this.client),this.hset=(e,t)=>new H(e,t).exec(this.client),this.hsetnx=(e,t,s)=>new K(e,t,s).exec(this.client),this.hstrlen=(...e)=>new D(...e).exec(this.client),this.hvals=(...e)=>new J(...e).exec(this.client),this.incr=(...e)=>new B(...e).exec(this.client),this.incrby=(...e)=>new F(...e).exec(this.client),this.incrbyfloat=(...e)=>new G(...e).exec(this.client),this.keys=(...e)=>new W(...e).exec(this.client),this.lindex=(...e)=>new X(...e).exec(this.client),this.linsert=(e,t,s,n)=>new Q(e,t,s,n).exec(this.client),this.llen=(...e)=>new V(...e).exec(this.client),this.lpop=(...e)=>new Y(...e).exec(this.client),this.lpush=(e,...t)=>new Z(e,...t).exec(this.client),this.lpushx=(e,...t)=>new ee(e,...t).exec(this.client),this.lrange=(...e)=>new te(...e).exec(this.client),this.lrem=(e,t,s)=>new se(e,t,s).exec(this.client),this.lset=(e,t,s)=>new ne(e,t,s).exec(this.client),this.ltrim=(...e)=>new ie(...e).exec(this.client),this.mget=(...e)=>new re(...e).exec(this.client),this.mset=e=>new ce(e).exec(this.client),this.msetnx=e=>new ae(e).exec(this.client),this.persist=(...e)=>new oe(...e).exec(this.client),this.pexpire=(...e)=>new le(...e).exec(this.client),this.pexpireat=(...e)=>new he(...e).exec(this.client),this.ping=(...e)=>new ue(...e).exec(this.client),this.psetex=(e,t,s)=>new pe(e,t,s).exec(this.client),this.pttl=(...e)=>new de(...e).exec(this.client),this.randomkey=()=>(new xe).exec(this.client),this.rename=(...e)=>new we(...e).exec(this.client),this.renamenx=(...e)=>new me(...e).exec(this.client),this.rpop=(...e)=>new fe(...e).exec(this.client),this.rpush=(e,...t)=>new ge(e,...t).exec(this.client),this.rpushx=(e,...t)=>new ye(e,...t).exec(this.client),this.sadd=(e,...t)=>new be(e,...t).exec(this.client),this.scan=(...e)=>new ve(...e).exec(this.client),this.scard=(...e)=>new ze(...e).exec(this.client),this.sdiff=(...e)=>new Se(...e).exec(this.client),this.sdiffstore=(...e)=>new je(...e).exec(this.client),this.set=(e,t,s)=>new ke(e,t,s).exec(this.client),this.setbit=(...e)=>new Oe(...e).exec(this.client),this.setex=(e,t,s)=>new Ue(e,t,s).exec(this.client),this.setnx=(e,t)=>new Ee(e,t).exec(this.client),this.setrange=(...e)=>new Pe(...e).exec(this.client),this.sinter=(...e)=>new Re(...e).exec(this.client),this.sinterstore=(...e)=>new Te(...e).exec(this.client),this.sismember=(e,t)=>new _e(e,t).exec(this.client),this.smembers=(...e)=>new Ce(...e).exec(this.client),this.smove=(e,t,s)=>new Ae(e,t,s).exec(this.client),this.spop=(...e)=>new Ie(...e).exec(this.client),this.srandmember=(...e)=>new Le(...e).exec(this.client),this.srem=(e,...t)=>new Me(e,...t).exec(this.client),this.sscan=(...e)=>new Ne(...e).exec(this.client),this.strlen=(...e)=>new $e(...e).exec(this.client),this.sunion=(...e)=>new qe(...e).exec(this.client),this.sunionstore=(...e)=>new He(...e).exec(this.client),this.time=()=>(new Ke).exec(this.client),this.touch=(...e)=>new De(...e).exec(this.client),this.ttl=(...e)=>new Je(...e).exec(this.client),this.type=(...e)=>new Be(...e).exec(this.client),this.unlink=(...e)=>new Fe(...e).exec(this.client),this.zadd=(...e)=>(e[1],new Ge(e[0],e[1],...e.slice(2)).exec(this.client)),this.zcard=(...e)=>new We(...e).exec(this.client),this.zcount=(...e)=>new Xe(...e).exec(this.client),this.zincrby=(e,t,s)=>new Qe(e,t,s).exec(this.client),this.zinterstore=(...e)=>new Ve(...e).exec(this.client),this.zlexcount=(...e)=>new Ye(...e).exec(this.client),this.zpopmax=(...e)=>new Ze(...e).exec(this.client),this.zpopmin=(...e)=>new et(...e).exec(this.client),this.zrange=(...e)=>new tt(...e).exec(this.client),this.zrank=(e,t)=>new st(e,t).exec(this.client),this.zrem=(e,...t)=>new nt(e,...t).exec(this.client),this.zremrangebylex=(...e)=>new it(...e).exec(this.client),this.zremrangebyrank=(...e)=>new rt(...e).exec(this.client),this.zremrangebyscore=(...e)=>new ct(...e).exec(this.client),this.zrevrank=(e,t)=>new at(e,t).exec(this.client),this.zscan=(...e)=>new ot(...e).exec(this.client),this.zscore=(e,t)=>new lt(e,t).exec(this.client),this.zunionstore=(...e)=>new ht(...e).exec(this.client),this.client=e}}{constructor(e){super(new class{constructor(e){this.baseUrl=e.baseUrl.replace(/\/$/,""),this.headers=((e,t)=>{for(var s in t||(t={}))c.call(t,s)&&o(e,s,t[s]);if(r)for(var s of r(t))a.call(t,s)&&o(e,s,t[s]);return e})({"Content-Type":"application/json"},e.headers),this.options=e.options}async request(e){var t;e.path||(e.path=[]);const s=await fetch([this.baseUrl,...e.path].join("/"),{method:"POST",headers:this.headers,body:JSON.stringify(e.body),backend:null==(t=this.options)?void 0:t.backend}),n=await s.json();if(!s.ok)throw new l(n.error);return n}}({baseUrl:e.url,headers:{authorization:"Bearer "+e.token}}))}static fromEnv(){const e=UPSTASH_REDIS_REST_URL,t=UPSTASH_REDIS_REST_TOKEN;if(!e)throw new Error("Unable to find environment variable: `UPSTASH_REDIS_REST_URL`. Please add it via `wrangler secret put UPSTASH_REDIS_REST_URL`");if(!t)throw new Error("Unable to find environment variable: `UPSTASH_REDIS_REST_TOKEN`. Please add it via `wrangler secret put UPSTASH_REDIS_REST_TOKEN`");return new ut({url:e,token:t})}},pt=(s(1),Object.defineProperty),dt=Object.defineProperties,xt=Object.getOwnPropertyDescriptors,wt=Object.getOwnPropertySymbols,mt=Object.prototype.hasOwnProperty,ft=Object.prototype.propertyIsEnumerable,gt=(e,t,s)=>t in e?pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,yt=(e,t)=>{for(var s in t||(t={}))mt.call(t,s)&&gt(e,s,t[s]);if(wt)for(var s of wt(t))ft.call(t,s)&&gt(e,s,t[s]);return e},bt=class extends Error{constructor(e){super(e.error),this.name="UpstashError",this.result=e.result,this.error=e.error,this.status=e.status}};function vt(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=e.length-1;let n=-1,i="";for(;n<s;){const s=e.charCodeAt(++n)<<16|e.charCodeAt(++n)<<8|e.charCodeAt(++n);i+=t[s>>>18&63]+t[s>>>12&63]+t[s>>>6&63]+t[63&s]}var r=e.length%3;if(r>0)for(i=i.slice(0,r-3);i.length%4!=0;)i+="=";return i}function zt(e){return new Response(e,{headers:{"content-type":"text/html;charset=UTF-8"}})}const St=Object(n.Router)(),jt=ut.fromEnv();St.get("/",()=>zt('\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>URL Shortener</title>\n\n    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css">\n</head>\n<body>\n    <section class="w-full px-8 text-gray-700 bg-white body-font">\n        <div class="container flex flex-col items-center justify-between py-5 mx-auto max-w-7xl md:flex-row">\n            <a href="https://materialize.com" class="inline-block font-sans text-2xl font-extrabold text-left text-black no-underline bg-transparent cursor-pointer focus:no-underline">\n                <svg class="w-10 h-10 text-black fill-current" viewBox="0 0 39 15" xmlns="http://www.w3.org/2000/svg"><path d="M11.252 1.152C4.184 2.526.454 6.918.061 14.329c1.963-4.049 4.798-5.975 8.503-5.778 2.115.112 3.84 1.295 5.75 2.603 3.11 2.133 6.712 4.601 13.281 3.324 7.068-1.374 10.798-5.766 11.191-13.177-1.963 4.049-4.798 5.975-8.503 5.779-2.115-.113-3.84-1.296-5.75-2.604-3.11-2.133-6.712-4.601-13.281-3.324z" fill-rule="evenodd"></path></svg>\n            </a>\n            <div class="inline-flex items-center ml-5 space-x-6 lg:w-2/5 lg:justify-end lg:ml-0">\n                <a href="https://materialize.com" class="inline-flex items-center justify-center px-4 py-2 text-base font-medium leading-6 text-white whitespace-no-wrap bg-purple-600 border border-transparent shadow-sm rounded-xl hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-700">\n                    Materialize\n                </a>\n            </div>\n        </div>\n    </section>\n    <section class="px-2 pt-32 bg-white md:px-0">\n        <div class="container items-center max-w-6xl px-5 mx-auto space-y-6 text-center">\n            <h1 class="text-4xl font-extrabold tracking-tight text-left text-gray-900 sm:text-5xl md:text-6xl md:text-center">\n                <span class="block">Simple URL <span class="block mt-1 text-purple-500 lg:inline lg:mt-0">Shortener</span></span>\n            </h1>\n            <p class="w-full mx-auto text-base text-left text-gray-500 md:max-w-md sm:text-lg lg:text-2xl md:max-w-3xl md:text-center">\n                Using Upstash, Materialize and Cloudflare Workers\n            </p>\n            <div class="relative flex flex-col justify-center md:flex-row md:space-x-4">\n                <a href="https://materialize.com/cloud" class="flex items-center w-full px-6 py-3 mb-3 text-lg text-white bg-purple-500 rounded-md md:mb-0 hover:bg-purple-700 md:w-auto">\n                    Try It Free\n                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 ml-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                        <line x1="5" y1="12" x2="19" y2="12"></line>\n                        <polyline points="12 5 19 12 12 19"></polyline>\n                    </svg>\n                </a>\n                <a href="https://materialize.com/docs" class="flex items-center px-6 py-3 text-gray-500 bg-gray-100 rounded-md hover:bg-gray-200 hover:text-gray-600">\n                    Learn More\n                </a>\n            </div>\n        </div>\n        <div class="container items-center max-w-4xl px-5 mx-auto mt-16 text-center">\n            <img src="https://cdn.devdojo.com/images/november2020/hero-image.png">\n        </div>\n    </section>\n    <section class="py-10 bg-black">\n        <div class="px-10 mx-auto max-w-7xl">\n            <div class="flex flex-col items-center md:flex-row md:justify-between">\n                <a href="#_" class="flex items-center justify-center w-10 h-10 mr-3 rounded-lg mb-7 bg-gradient-to-br from-purple-500 via-indigo-600 to-blue-500 rounded-xxl">\n                    <svg class="w-5 h-5 text-white fill-current" viewBox="0 0 39 15" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M11.252 1.152C4.184 2.526.454 6.918.061 14.329c1.963-4.049 4.798-5.975 8.503-5.778 2.115.112 3.84 1.295 5.75 2.603 3.11 2.133 6.712 4.601 13.281 3.324 7.068-1.374 10.798-5.766 11.191-13.177-1.963 4.049-4.798 5.975-8.503 5.779-2.115-.113-3.84-1.296-5.75-2.604-3.11-2.133-6.712-4.601-13.281-3.324z" fill-rule="evenodd"></path>\n                    </svg>\n                </a>\n            <div class="flex flex-col justify-between text-center md:flex-row">\n                <p class="order-last text-sm leading-tight text-gray-500 md:order-first"> Crafted with <a href="https://devdojo.com/tails" class="text-white">Tails</a>.</p>\n            </div>\n            <div class="flex flex-col justify-between text-center md:flex-row">\n                <ul class="flex flex-row justify-center pb-3 -ml-4 -mr-4 text-sm">\n                    <li> <a href="https://materialize.com" class="px-4 text-gray-500 hover:text-white">Materialize</a> </li>\n                    <li> <a href="https://upstash.com" class="px-4 text-gray-500 hover:text-white">Upstash</a> </li>\n                    <li> <a href="https://github.com/bobbyiliev/cf-url-shortener" class="px-4 text-gray-500 hover:text-white">Demo</a> </li>\n                </ul>\n            </div>\n        </div>\n    </section>\n</body>\n</html>\n')),St.get("/admin",async()=>zt('<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>URL Shortener</title>\n\n    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css">\n</head>\n<body>\n    <section class="w-full px-8 text-gray-700 bg-white body-font">\n        <div class="container flex flex-col items-center justify-between py-5 mx-auto max-w-7xl md:flex-row">\n            <a href="https://materialize.com" class="inline-block font-sans text-2xl font-extrabold text-left text-black no-underline bg-transparent cursor-pointer focus:no-underline">\n                <svg class="w-10 h-10 text-black fill-current" viewBox="0 0 39 15" xmlns="http://www.w3.org/2000/svg"><path d="M11.252 1.152C4.184 2.526.454 6.918.061 14.329c1.963-4.049 4.798-5.975 8.503-5.778 2.115.112 3.84 1.295 5.75 2.603 3.11 2.133 6.712 4.601 13.281 3.324 7.068-1.374 10.798-5.766 11.191-13.177-1.963 4.049-4.798 5.975-8.503 5.779-2.115-.113-3.84-1.296-5.75-2.604-3.11-2.133-6.712-4.601-13.281-3.324z" fill-rule="evenodd"></path></svg>\n            </a>\n            <div class="inline-flex items-center ml-5 space-x-6 lg:w-2/5 lg:justify-end lg:ml-0">\n                <a href="https://materialize.com" class="inline-flex items-center justify-center px-4 py-2 text-base font-medium leading-6 text-white whitespace-no-wrap bg-purple-600 border border-transparent shadow-sm rounded-xl hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-700">\n                    Materialize\n                </a>\n            </div>\n        </div>\n    </section>\n\n    <section class="pt-20 bg-white">\n\n        <div class="px-10 mx-auto max-w-7xl xl:px-5">\n\n            <form class="flex flex-col justify-center space-y-8 md:space-y-12" action="/admin/store" method="POST">\n\n                <h2 class="max-w-4xl mx-auto text-6xl font-extrabold leading-none text-left text-gray-900 sm:text-7xl md:text-8xl md:text-center">URL shortener</h2>\n                <p class="max-w-4xl mx-auto text-xl text-left text-gray-500 md:text-2xl md:text-center">Create a new short URL via the form bellow.</p>\n\n                <div class="flex flex-col w-full max-w-4xl mx-auto space-y-5 md:space-y-0 md:space-x-5 md:flex-row">\n                    <input type="text" name="longUrl" class="flex-1 w-full px-5 py-5 text-2xl border border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-600 focus:ring-opacity-50 focus:outline-none" placeholder="Long URL" required>\n                </div>\n                <div class="flex flex-col w-full max-w-4xl mx-auto space-y-5 md:space-y-0 md:space-x-5 md:flex-row">\n                    <input type="text" name="shortCode" class="flex-1 w-full px-5 py-5 text-2xl border border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-600 focus:ring-opacity-50 focus:outline-none" placeholder="Short Code" required>\n                </div>\n                <div class="flex flex-col w-full max-w-4xl mx-auto space-y-5 md:space-y-0 md:space-x-5 md:flex-row">\n                    <button class="flex-1 w-full px-10 py-5 text-2xl font-medium text-center text-white bg-blue-600 rounded-lg focus:ring-4 focus:ring-blue-600 focus:ring-opacity-50 focus:ring-offset-2 focus:outline-none">Generate</button>\n                </div>\n\n                <div class="w-full pt-5 mx-auto max-w-7xl">\n                    <div class="overflow-hidden border border-gray-300 rounded-t-xl">\n                        <div class="h-12 flex items-center pl-3.5 justify-start border-b border-gray-300 w-full">\n                            <div class="flex space-x-1.5">\n                                <div class="w-3 h-3 bg-gray-200 rounded-full"></div>\n                                <div class="w-3 h-3 bg-gray-200 rounded-full"></div>\n                                <div class="w-3 h-3 bg-gray-200 rounded-full"></div>\n                            </div>\n                        </div>\n                        <div class="box-content w-full bg-gray-100 h-96">\n                            <table id="table" class="w-full text-left text-sm">\n                                <thead>\n                                    <tr>\n                                        <th class="px-5 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider">\n                                            Short Code\n                                        </th>\n                                        <th class="px-5 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider">\n                                            Long URL\n                                        </th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n\n                </div>\n\n            </form>\n        </div>\n    </section>\n\n\n    <section class="py-10 bg-black">\n        <div class="px-10 mx-auto max-w-7xl">\n            <div class="flex flex-col items-center md:flex-row md:justify-between">\n                <a href="#_" class="flex items-center justify-center w-10 h-10 mr-3 rounded-lg mb-7 bg-gradient-to-br from-purple-500 via-indigo-600 to-blue-500 rounded-xxl">\n                    <svg class="w-5 h-5 text-white fill-current" viewBox="0 0 39 15" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M11.252 1.152C4.184 2.526.454 6.918.061 14.329c1.963-4.049 4.798-5.975 8.503-5.778 2.115.112 3.84 1.295 5.75 2.603 3.11 2.133 6.712 4.601 13.281 3.324 7.068-1.374 10.798-5.766 11.191-13.177-1.963 4.049-4.798 5.975-8.503 5.779-2.115-.113-3.84-1.296-5.75-2.604-3.11-2.133-6.712-4.601-13.281-3.324z" fill-rule="evenodd"></path>\n                    </svg>\n                </a>\n            <div class="flex flex-col justify-between text-center md:flex-row">\n                <p class="order-last text-sm leading-tight text-gray-500 md:order-first"> Crafted with <a href="https://devdojo.com/tails" class="text-white">Tails</a>.</p>\n            </div>\n            <div class="flex flex-col justify-between text-center md:flex-row">\n                <ul class="flex flex-row justify-center pb-3 -ml-4 -mr-4 text-sm">\n                    <li> <a href="https://materialize.com" class="px-4 text-gray-500 hover:text-white">Materialize</a> </li>\n                    <li> <a href="https://upstash.com" class="px-4 text-gray-500 hover:text-white">Upstash</a> </li>\n                    <li> <a href="https://github.com/bobbyiliev/cf-url-shortener" class="px-4 text-gray-500 hover:text-white">Demo</a> </li>\n                </ul>\n            </div>\n        </div>\n    </section>\n    <script>\n        // Fetch the latest data from the API /admin/urls\n        fetch(\'/admin/urls\')\n            .then(response => response.json())\n            .then(data => {\n                let table = document.getElementById(\'table\');\n                let tbody = table.getElementsByTagName(\'tbody\')[0];\n                tbody.innerHTML = \'\';\n                data.forEach(url => {\n                    let row = document.createElement(\'tr\');\n                    let longUrl = document.createElement(\'td\');\n                    let shortCode = document.createElement(\'td\');\n                    // Set classes\n                    longUrl.classList.add(\'px-5\', \'py-3\', \'border-b\', \'border-gray-200\', \'bg-gray-50\', \'text-left\', \'text-xs\', \'leading-4\', \'font-medium\', \'text-gray-500\', \'tracking-wider\');\n                    shortCode.classList.add(\'px-5\', \'py-3\', \'border-b\', \'border-gray-200\', \'bg-gray-50\', \'text-left\', \'text-xs\', \'leading-4\', \'font-medium\', \'text-gray-500\', \'tracking-wider\');\n                    longUrl.innerHTML = url.key;\n                    shortCode.innerHTML = url.value;\n                    row.appendChild(longUrl);\n                    row.appendChild(shortCode);\n                    tbody.appendChild(row);\n                });\n            });\n    <\/script>\n</body>\n</html>\n')),St.get("/admin/urls",async()=>{const e=await jt.keys("*"),t=await Promise.all(e.map(async e=>({key:e,value:await jt.get(e)})));return zt(JSON.stringify(t))}),St.get("/s/:url",async e=>{console.log("START");const t=new class{constructor(e){this.client=new class{constructor(e){var t;this.baseUrl=e.baseUrl.replace(/\/$/,""),this.headers=null!=(t=e.headers)?t:{}}async request(e,t){var s;const n=yt(yt({"Content-Type":"application/json"},this.headers),t.headers);let i=new Error;for(let r=0;r<=(null!=(s=t.retries)?s:5);r++){r>0&&await new Promise(e=>setTimeout(e,2**r*250));try{const s=await fetch([this.baseUrl,...t.path].join("/"),{method:e,headers:n,body:JSON.stringify(t.body)}),i=await s.json();if(!s.ok)throw new bt(i);return i}catch(e){i=e}}throw i}async get(e){return await this.request("GET",e)}async post(e){return await this.request("POST",e)}}({baseUrl:e.url,headers:{authorization:"Basic "+vt(`${e.username}:${e.password}`)}})}producer(){return new class{constructor(e){this.client=e}async produce(e,t,s){const n=yt({topic:e,value:"string"==typeof t?t:JSON.stringify(t)},s);return(await this.client.post({path:["produce"],body:n}))[0]}async produceMany(e){return await this.client.post({path:["produce"],body:e})}}(this.client)}consumer(){return new class{constructor(e){this.client=e}async fetch(e,t={parallel:!0}){var s;let n=[e];(null==t?void 0:t.parallel)&&(n=(null!=(s=e.topicPartitionOffsets)?s:[]).map(t=>{return s=yt({},t),n={timeout:e.timeout},dt(s,xt(n));var s,n}),e.topic&&n.push({topic:e.topic,partition:e.partition,offset:e.offset,timeout:e.timeout}));return(await Promise.all(n.map(async e=>await this.client.post({path:["fetch"],body:e})))).flat()}async consume(e){const t={};1===e.topics.length?t.topic=e.topics[0]:t.topics=e.topics,"number"==typeof e.timeout&&(t.timeout=e.timeout);const s={};return"boolean"==typeof e.autoCommit&&(s["Kafka-Enable-Auto-Commit"]=e.autoCommit.toString()),"number"==typeof e.autoCommitInterval&&(s["Kafka-Auto-Commit-Interval"]=e.autoCommitInterval.toString()),"string"==typeof e.autoOffsetReset&&(s["Kafka-Auto-Offset-Reset"]=e.autoOffsetReset),await this.client.post({path:["consume",e.consumerGroupId,e.instanceId],headers:s,body:t})}async commit(e){return await this.client.post({path:["commit",e.consumerGroupId,e.instanceId],body:e.offset})}async committed(e){return await this.client.post({path:["committed",e.consumerGroupId,e.instanceId],body:e.topicPartitions})}}(this.client)}admin(){return new class{constructor(e){this.client=e}async topics(){return await this.client.get({path:["topics"]})}async consumers(){return await this.client.get({path:["consumers"]})}async removeConsumerInstance(e,t){await this.client.post({path:["delete-consumer",e,t]})}async committedOffsets(e){return await this.client.post({path:["committed",e.consumerGroupId,e.instanceId],body:e.topicPartition?[e.topicPartition]:e.topicPartitions})}async topicPartitionOffsets(e){return await this.client.post({path:["offsets",e.timestamp.toString()],body:e.topicPartition?[e.topicPartition]:e.topicPartitions})}}(this.client)}}({url:UPSTASH_KAFKA_REST_URL,username:UPSTASH_KAFKA_REST_USERNAME,password:UPSTASH_KAFKA_REST_PASSWORD}),{params:s,query:n}=e,i=await jt.get(s.url);if(i){let n=e.cf.country,r=e.cf.city,c=e.headers.get("cf-connecting-ip")||"unknown",a={shortCode:s.url,longUrl:i,country:n,city:r,ip:c};return t.producer().produce("visits-log",a),new Response("",{status:302,headers:{Location:i}})}return new Response("Not found",{status:404})}),St.post("/admin/store",async e=>{const t=await async function(e){const{headers:t}=e,s=t.get("content-type")||"";if(s.includes("application/json"))return JSON.stringify(await e.json());if(s.includes("application/text"))return e.text();if(s.includes("text/html"))return e.text();if(s.includes("form")){const t=await e.formData(),s={};for(const e of t.entries())s[e[0]]=e[1];return JSON.stringify(s)}return"a file"}(e),s=await JSON.parse(t);try{const e=await jt.set(s.shortCode,s.longUrl);return console.log(e),new Response("",{status:302,headers:{Location:"/admin"}})}catch(e){return new Response(e)}}),St.all("*",()=>new Response("404, not found!",{status:404})),addEventListener("fetch",e=>{e.respondWith(St.handle(e.request))})}]);